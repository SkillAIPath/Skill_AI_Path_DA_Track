<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EduFin Version 3 - Strategic Market Expansion Cheat Sheet</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
            line-height: 1.5;
            color: #2c3e50;
            background: #ffffff;
            font-size: 14px;
        }
        
        .cheatsheet-container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px;
            background: white;
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 25px;
            background: linear-gradient(135deg, #2c5aa0 0%, #1e3a72 100%);
            color: white;
            border-radius: 12px;
        }
        
        .project-title {
            font-size: 2rem;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .project-subtitle {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 15px;
        }
        
        .project-meta {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 15px;
        }
        
        .meta-item {
            text-align: center;
            padding: 10px;
            background: rgba(255,255,255,0.1);
            border-radius: 8px;
        }
        
        .meta-label {
            font-size: 0.85rem;
            opacity: 0.8;
            margin-bottom: 5px;
        }
        
        .meta-value {
            font-size: 1rem;
            font-weight: 600;
        }
        
        .grid-layout {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 25px;
        }
        
        .section {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            border: 1px solid #e9ecef;
        }
        
        .section-title {
            font-size: 1.2rem;
            font-weight: 600;
            color: #2c5aa0;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #2c5aa0;
        }
        
        .cte-item {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 12px;
        }
        
        .cte-name {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            color: #e74c3c;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .cte-purpose {
            font-size: 0.85rem;
            color: #5a6c7d;
            line-height: 1.4;
        }
        
        .formula-box {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 10px;
        }
        
        .formula-name {
            font-weight: 600;
            color: #2c3e50;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .formula-code {
            font-family: 'JetBrains Mono', monospace;
            background: #f1f3f4;
            padding: 6px 8px;
            border-radius: 4px;
            font-size: 0.8rem;
            color: #495057;
            border: 1px solid #e9ecef;
        }
        
        .tier-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 12px;
            margin: 15px 0;
        }
        
        .tier-card {
            background: white;
            border: 2px solid #dee2e6;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
        }
        
        .tier-1 { border-color: #27ae60; background: linear-gradient(135deg, #fff 0%, #f0fff4 100%); }
        .tier-2 { border-color: #3498db; background: linear-gradient(135deg, #fff 0%, #f0f9ff 100%); }
        .tier-3 { border-color: #f39c12; background: linear-gradient(135deg, #fff 0%, #fffbf0 100%); }
        .tier-4 { border-color: #e74c3c; background: linear-gradient(135deg, #fff 0%, #fdf2f2 100%); }
        
        .tier-name {
            font-weight: 600;
            font-size: 0.85rem;
            margin-bottom: 5px;
        }
        
        .tier-1 .tier-name { color: #27ae60; }
        .tier-2 .tier-name { color: #3498db; }
        .tier-3 .tier-name { color: #f39c12; }
        .tier-4 .tier-name { color: #e74c3c; }
        
        .tier-criteria {
            font-size: 0.75rem;
            color: #6c757d;
            line-height: 1.3;
        }
        
        .tier-funding {
            font-size: 0.8rem;
            font-weight: 600;
            margin-top: 5px;
        }
        
        .sql-highlight {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 10px;
            margin-bottom: 8px;
        }
        
        .sql-function {
            font-family: 'JetBrains Mono', monospace;
            color: #e74c3c;
            font-weight: 600;
            font-size: 0.85rem;
        }
        
        .sql-description {
            font-size: 0.8rem;
            color: #5a6c7d;
            margin-top: 3px;
        }
        
        .table-mapping {
            background: white;
            border: 1px solid #dee2e6;
            border-radius: 6px;
            padding: 12px;
            margin-bottom: 10px;
        }
        
        .table-name {
            font-family: 'JetBrains Mono', monospace;
            font-weight: 600;
            color: #2c5aa0;
            font-size: 0.9rem;
            margin-bottom: 5px;
        }
        
        .table-fields {
            font-size: 0.8rem;
            color: #5a6c7d;
            line-height: 1.3;
        }
        
        .template-box {
            background: linear-gradient(135deg, #27ae60, #229954);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .template-title {
            font-weight: 600;
            margin-bottom: 10px;
            font-size: 1rem;
        }
        
        .template-content {
            font-family: 'JetBrains Mono', monospace;
            background: rgba(255,255,255,0.1);
            padding: 10px;
            border-radius: 6px;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        .bullet-list {
            list-style: none;
            padding: 0;
        }
        
        .bullet-list li {
            position: relative;
            padding-left: 15px;
            margin-bottom: 6px;
            font-size: 0.85rem;
            line-height: 1.4;
        }
        
        .bullet-list li::before {
            content: '•';
            position: absolute;
            left: 0;
            color: #3498db;
            font-weight: bold;
        }
        
        .full-width {
            grid-column: 1 / -1;
        }
        
        @media print {
            body { font-size: 12px; }
            .cheatsheet-container { padding: 20px; }
            .grid-layout { grid-template-columns: 1fr; }
        }
        
        @media (max-width: 768px) {
            .grid-layout { grid-template-columns: 1fr; }
            .tier-grid { grid-template-columns: 1fr 1fr; }
            .project-meta { grid-template-columns: 1fr; }
        }
    </style>
</head>
<body>
    <div class="cheatsheet-container">
        <!-- Header -->
        <div class="header">
            <h1 class="project-title">EduFin Version 3 Cheat Sheet</h1>
            <p class="project-subtitle">Strategic Business Intelligence – Market Expansion Engine</p>
            <div class="project-meta">
                <div class="meta-item">
                    <div class="meta-label">Investment Target</div>
                    <div class="meta-value">₹200 Cr Series B</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Markets Analyzed</div>
                    <div class="meta-value">26 Cities/States</div>
                </div>
                <div class="meta-item">
                    <div class="meta-label">Revenue Potential</div>
                    <div class="meta-value">₹4,892 Cr</div>
                </div>
            </div>
        </div>

        <!-- Main Grid -->
        <div class="grid-layout">
            <!-- CTE Breakdown -->
            <div class="section">
                <h2 class="section-title">1. CTE Architecture</h2>
                
                <div class="cte-item">
                    <div class="cte-name">market_penetration_analysis</div>
                    <div class="cte-purpose">Comprehensive demographic & economic analysis. Calculates addressable market size, current EduFin presence, and competitive landscape across 26 states.</div>
                </div>
                
                <div class="cte-item">
                    <div class="cte-name">investment_scoring_engine</div>
                    <div class="cte-purpose">Multi-factor scoring algorithm (0-100). Evaluates market attractiveness, investment requirements, 5-year NPV projections, and ROI calculations.</div>
                </div>
                
                <div class="cte-item">
                    <div class="cte-name">strategic_prioritization</div>
                    <div class="cte-purpose">Tier-based market classification with funding recommendations, implementation complexity assessment, and timeline optimization.</div>
                </div>
            </div>

            <!-- Key Formulas -->
            <div class="section">
                <h2 class="section-title">2. Key Formulas & Metrics</h2>
                
                <div class="formula-box">
                    <div class="formula-name">Addressable Market Size</div>
                    <div class="formula-code">higher_education_enrollment * 0.35</div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-name">Estimated Loan Demand</div>
                    <div class="formula-code">average_household_income * 0.6</div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-name">5-Year NPV</div>
                    <div class="formula-code">(market_size * loan_demand * 0.12 * GDP_growth^5) / 1.10^5</div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-name">ROI Multiple</div>
                    <div class="formula-code">five_year_npv / estimated_investment_required</div>
                </div>
                
                <div class="formula-box">
                    <div class="formula-name">Market Attractiveness Score</div>
                    <div class="formula-code">Market Size (40%) + Economic Health (30%) + Competitive Gap (20%) + Risk Assessment (10%)</div>
                </div>
            </div>
        </div>

        <!-- Tier Classification -->
        <div class="section full-width">
            <h2 class="section-title">3. Tier Classification Logic</h2>
            <div class="tier-grid">
                <div class="tier-card tier-1">
                    <div class="tier-name">TIER 1</div>
                    <div class="tier-criteria">Score ≥80<br>ROI ≥5x</div>
                    <div class="tier-funding">60% Funding</div>
                </div>
                <div class="tier-card tier-2">
                    <div class="tier-name">TIER 2</div>
                    <div class="tier-criteria">Score ≥70<br>ROI ≥3x</div>
                    <div class="tier-funding">30% Funding</div>
                </div>
                <div class="tier-card tier-3">
                    <div class="tier-name">TIER 3</div>
                    <div class="tier-criteria">Score ≥60<br>ROI ≥2x</div>
                    <div class="tier-funding">10% Funding</div>
                </div>
                <div class="tier-card tier-4">
                    <div class="tier-name">TIER 4</div>
                    <div class="tier-criteria">Score <60<br>ROI <2x</div>
                    <div class="tier-funding">0% Funding</div>
                </div>
            </div>
            
            <div style="margin-top: 15px;">
                <ul class="bullet-list">
                    <li><strong>TIER 1 (Immediate Expansion):</strong> High-priority markets with exceptional ROI - immediate deployment recommended</li>
                    <li><strong>TIER 2 (Strategic Expansion):</strong> Medium-priority markets with good returns - planned deployment within 6 months</li>
                    <li><strong>TIER 3 (Future Consideration):</strong> Long-term opportunities - deployment after Tier 1 & 2 success</li>
                    <li><strong>TIER 4 (Avoid):</strong> Low-priority markets with poor economics - focus resources elsewhere</li>
                </ul>
            </div>
        </div>

        <div class="grid-layout">
            <!-- SQL Logic Highlights -->
            <div class="section">
                <h2 class="section-title">4. SQL Logic Highlights</h2>
                
                <div class="sql-highlight">
                    <div class="sql-function">ROUND(value, decimal_places)</div>
                    <div class="sql-description">SQL Server rounding for clean metric presentation</div>
                </div>
                
                <div class="sql-highlight">
                    <div class="sql-function">CASE WHEN...THEN...ELSE...END</div>
                    <div class="sql-description">Multi-condition logic for tier classification & scoring</div>
                </div>
                
                <div class="sql-highlight">
                    <div class="sql-function">ISNULL(value, default)</div>
                    <div class="sql-description">Handle missing data with conservative defaults</div>
                </div>
                
                <div class="sql-highlight">
                    <div class="sql-function">LEFT JOIN geographic_demographics</div>
                    <div class="sql-description">Preserve all markets even without current presence</div>
                </div>
                
                <div class="sql-highlight">
                    <div class="sql-function">STRING_AGG(city + ' (' + state + ')', ', ')</div>
                    <div class="sql-description">Concatenate recommended entry sequence by attractiveness</div>
                </div>
                
                <div class="sql-highlight">
                    <div class="sql-function">POWER(1 + gdp_growth_rate/100, 5)</div>
                    <div class="sql-description">Compound growth calculation for 5-year projections</div>
                </div>
            </div>

            <!-- Data Table Mapping -->
            <div class="section">
                <h2 class="section-title">5. Data Table Mapping</h2>
                
                <div class="table-mapping">
                    <div class="table-name">sample_loans</div>
                    <div class="table-fields">loan_amount, loan_status, disbursement_date, application_date<br><strong>Purpose:</strong> Current portfolio performance & processing metrics</div>
                </div>
                
                <div class="table-mapping">
                    <div class="table-name">sample_customers</div>
                    <div class="table-fields">customer_id, current_city, annual_income, employment_type<br><strong>Purpose:</strong> Customer base analysis & demographic profiling</div>
                </div>
                
                <div class="table-mapping">
                    <div class="table-name">geographic_demographics</div>
                    <div class="table-fields">state, city, tier_classification, population_18_35, higher_education_enrollment, average_household_income<br><strong>Purpose:</strong> Market sizing & demographic targeting</div>
                </div>
                
                <div class="table-mapping">
                    <div class="table-name">economic_indicators</div>
                    <div class="table-fields">gdp_growth_rate, unemployment_rate, inflation_rate, education_expenditure_percentage<br><strong>Purpose:</strong> Economic health assessment & viability scoring</div>
                </div>
                
                <div style="margin-top: 15px; padding: 10px; background: #e3f2fd; border-radius: 6px;">
                    <strong>Key Joins:</strong>
                    <ul class="bullet-list" style="margin-top: 8px;">
                        <li>customers → loans (customer_id)</li>
                        <li>customers → geographic_demographics (current_city = city)</li>
                        <li>loans → economic_indicators (disbursement_date year = indicator year)</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- Summary Insights Template -->
        <div class="section full-width">
            <h2 class="section-title">6. Summary Insights Template</h2>
            <div class="template-box">
                <div class="template-title">Recommended City Analysis Template</div>
                <div class="template-content">
                    "Contact {CITY} ({STATE}) customers at {OPTIMAL_TIME} using {BEST_METHOD} for {CONVERSION_RATE}% success rate.<br>
                    Market: {TIER_CLASSIFICATION} | Investment: ₹{INVESTMENT_REQUIRED} Cr | Revenue Potential: ₹{NPV_PROJECTION} Cr | ROI: {ROI_MULTIPLE}x<br>
                    Strategy: {STRATEGIC_ACTION} | Timeline: {IMPLEMENTATION_TIMELINE} | Complexity: {IMPLEMENTATION_COMPLEXITY}"
                </div>
            </div>
            
            <div style="margin-top: 20px; display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                    <div style="font-weight: 600; color: #27ae60; font-size: 1.5rem;">534x</div>
                    <div style="font-size: 0.85rem; color: #6c757d;">Avg Tier 1 ROI Multiple</div>
                </div>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                    <div style="font-weight: 600; color: #3498db; font-size: 1.5rem;">7</div>
                    <div style="font-size: 0.85rem; color: #6c757d;">Tier 1 Priority Markets</div>
                </div>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                    <div style="font-weight: 600; color: #f39c12; font-size: 1.5rem;">₹3,205 Cr</div>
                    <div style="font-size: 0.85rem; color: #6c757d;">Tier 1 Revenue Potential</div>
                </div>
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; text-align: center;">
                    <div style="font-weight: 600; color: #e74c3c; font-size: 1.5rem;">₹60 Cr</div>
                    <div style="font-size: 0.85rem; color: #6c757d;">Tier 1 Investment Required</div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>